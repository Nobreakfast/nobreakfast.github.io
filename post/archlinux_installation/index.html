<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Archlinux 安装指南 - 不吃早餐 - 技术博客</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="不吃早餐" />
  <meta name="description" content="简介 首先，先简单介绍一下 archlinux，archlinux 是一个滚动的 linux 发行版并尽全力提供一个较为稳定的开发环境，它的宗旨是简洁，现代，" />

  <meta name="keywords" content="linux, emacs, vim" />






<meta name="generator" content="Hugo 0.73.0" />


<link rel="canonical" href="https://nobreakfast.github.io/post/archlinux_installation/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.fa3d941d1d0e0ddc985804227feabffea55c89883eb0af34e0532a7ae9135151.css" integrity="sha256-&#43;j2UHR0ODdyYWAQif&#43;q//qVciYg&#43;sK804FMqeukTUVE=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="Archlinux 安装指南" />
<meta property="og:description" content="简介 首先，先简单介绍一下 archlinux，archlinux 是一个滚动的 linux 发行版并尽全力提供一个较为稳定的开发环境，它的宗旨是简洁，现代，" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nobreakfast.github.io/post/archlinux_installation/" />
<meta property="article:published_time" content="2020-07-05T20:19:07+08:00" />
<meta property="article:modified_time" content="2020-07-05T20:19:07+08:00" />
<meta itemprop="name" content="Archlinux 安装指南">
<meta itemprop="description" content="简介 首先，先简单介绍一下 archlinux，archlinux 是一个滚动的 linux 发行版并尽全力提供一个较为稳定的开发环境，它的宗旨是简洁，现代，">
<meta itemprop="dateModified" content="2020-07-05T20:19:07&#43;08:00" />
<meta itemprop="wordCount" content="5032">



<meta itemprop="keywords" content="archlinux,linux,系统安装," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Archlinux 安装指南"/>
<meta name="twitter:description" content="简介 首先，先简单介绍一下 archlinux，archlinux 是一个滚动的 linux 发行版并尽全力提供一个较为稳定的开发环境，它的宗旨是简洁，现代，"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">不吃早餐的博客</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://nobreakfast.github.io/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://nobreakfast.github.io/post/">文章列表</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://nobreakfast.github.io/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://nobreakfast.github.io/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      不吃早餐的博客
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://nobreakfast.github.io/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://nobreakfast.github.io/post/">文章列表</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://nobreakfast.github.io/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://nobreakfast.github.io/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Archlinux 安装指南</h1>
      
      <div class="post-meta">
        <time datetime="2020-07-05" class="post-time">
          2020-07-05
        </time>
        <div class="post-category">
            <a href="https://nobreakfast.github.io/categories/archlinux/"> archlinux </a>
            
          </div>
        

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#简介">简介</a></li>
    <li><a href="#准备工作">准备工作</a></li>
    <li><a href="#安装">安装</a>
      <ul>
        <li><a href="#验证启动模式">验证启动模式</a></li>
        <li><a href="#联网">联网</a></li>
        <li><a href="#准备磁盘">准备磁盘</a></li>
        <li><a href="#挂载分区">挂载分区</a></li>
        <li><a href="#更改镜像">更改镜像</a></li>
        <li><a href="#安装软件包及系统到硬盘">安装软件包及系统到硬盘</a></li>
      </ul>
    </li>
    <li><a href="#配置系统">配置系统</a>
      <ul>
        <li><a href="#建立自动挂载">建立自动挂载</a></li>
        <li><a href="#进入新系统">进入新系统</a></li>
        <li><a href="#修改时区及本地化">修改时区及本地化</a></li>
        <li><a href="#设置主机名称">设置主机名称</a></li>
        <li><a href="#设置-root-密码">设置 root 密码</a></li>
        <li><a href="#安装引导">安装引导</a></li>
        <li><a href="#安装一些必要的网络包">安装一些必要的网络包</a></li>
        <li><a href="#重启">重启</a></li>
      </ul>
    </li>
    <li><a href="#安装之后的操作">安装之后的操作</a>
      <ul>
        <li><a href="#联网">联网</a></li>
        <li><a href="#设置用户及用户组">设置用户及用户组</a></li>
        <li><a href="#添加软件源">添加软件源</a></li>
        <li><a href="#安装图形界面">安装图形界面</a></li>
      </ul>
    </li>
    <li><a href="#总结">总结</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <h2 id="简介">简介</h2>
<p>首先，先简单介绍一下 archlinux，archlinux 是一个滚动的 linux 发行版并尽全力提供一个较为稳定的开发环境，它的宗旨是简洁，现代，实用并以用户为中心。archlinux 拥有丰富的软件源，并且有一个较为完善的<a href="https://wiki.archlinux.org/">wiki</a>网页为大家提供丰富的帮助与说明，不论你是否使用 archlinux 发行版，遇到软件问题，看看 archwiki 总没有错。因为我个人比较喜欢 archlinux 这种简洁的风格，并且我真正意义地入门 linux 就是从安装 archlinux 开始的，我希望有更多的小伙伴加入 archlinux。这篇文章将会带领大家一步一步地安装 archlinux 这个发行版。</p>
<h2 id="准备工作">准备工作</h2>
<p>首先，先从 archlinux 的下载界面下载最新版的<a href="https://www.archlinux.org/download/">镜像</a>，然后使用自己喜欢的镜像烧录软件进行烧录，这边我推荐使用<a href="http://rufus.ie/">rufus</a>，然后选择 dd 模式烧录 u 盘。在 windows 的磁盘管理界面分出来几十 GB 的容量用来装 linux。如果你要全部用于 linux，那就不需要了。
然后进入主板 bios 界面，关掉安全启动和快速启动，因为安全启动限制了你安装的系统为 windows。最后，u盘启动电脑。一般来说，如果你打开了主板传统启动模式，你的 u 盘会显示 uefi 和 legacy 两种模式，随便选择一种，推荐 uefi。如果你主板设置只开启了 uefi，那么你只能看到 uefi。
之后，看到 grub 界面，上下键选择 Boot Arch Linux，然后按 enter 回车。 然后等待一段时间，就可以看到 archlinux 的 livecd 界面了。</p>
<h2 id="安装">安装</h2>
<h3 id="验证启动模式">验证启动模式</h3>
<p>首先，我们需要再确认一下自己选择的是 <code>uefi</code> 还是 <code>legacy bios</code> 。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">ls /sys/firmware/efi/efivars
</code></pre></td></tr></table>
</div>
</div><p>如果目录不存在，那系统就是以 <code>legacy</code> 的 <code>bios</code> 启动。请记住这个，之后的硬盘分区和引导安装都要安照这个东西来操作。</p>
<h3 id="联网">联网</h3>
<h4 id="网线连接">网线连接</h4>
<p>直接运行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">dhcpcd
</code></pre></td></tr></table>
</div>
</div><h4 id="无线连接">无线连接</h4>
<p>直接运行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">wifi-menu
</code></pre></td></tr></table>
</div>
</div><p>然后根据指示，选择对应的 wifi 帐号和密码就行了。</p>
<h4 id="测试网络连接">测试网络连接</h4>
<p>然后测试一下网络连接</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">ping baidu.com -c4
</code></pre></td></tr></table>
</div>
</div><p>它应该会返回这样的信息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">PING baidu.com <span class="o">(</span>220.181.38.148<span class="o">)</span> 56<span class="o">(</span>84<span class="o">)</span> bytes of data.
<span class="m">64</span> bytes from 220.181.38.148 <span class="o">(</span>220.181.38.148<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">48</span> <span class="nv">time</span><span class="o">=</span>29.4 ms
<span class="m">64</span> bytes from 220.181.38.148 <span class="o">(</span>220.181.38.148<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">48</span> <span class="nv">time</span><span class="o">=</span>31.5 ms
<span class="m">64</span> bytes from 220.181.38.148 <span class="o">(</span>220.181.38.148<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">48</span> <span class="nv">time</span><span class="o">=</span>32.4 ms
<span class="m">64</span> bytes from 220.181.38.148 <span class="o">(</span>220.181.38.148<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span> <span class="nv">ttl</span><span class="o">=</span><span class="m">48</span> <span class="nv">time</span><span class="o">=</span><span class="m">171</span> ms
</code></pre></td></tr></table>
</div>
</div><h3 id="准备磁盘">准备磁盘</h3>
<h4 id="查看硬盘名称">查看硬盘名称</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">fdisk -l
</code></pre></td></tr></table>
</div>
</div><p>当系统检测到硬盘的时候，它就会被分配为一个块设备，如机械硬盘是 <code>/dev/sda1</code> 或者 nvme 固态硬盘是 <code>/dev/nvme0n1p1</code> 。一般来说，uefi 使用 gpt 分区，legacy bios 使用 mbr 分区，请根据你的启动模式选择下面的两种操作。假设我这里显示的是  <code>nvme</code> 的 <code>/dev/nvme0n1</code> 。</p>
<h4 id="分区大小">分区大小</h4>
<p>分区大小这个事情真的是因人而异，对于高玩来说，他们清楚自己每个分区需要多大的硬盘容量，他们知道哪些分区需要部署在 ssd 上，哪些放在机械硬盘上。对于普通用户来说，我推荐把 ssd 分一个 <code>引导</code> 分区，剩下的一个分区。这样对于新手来说不会遇到安装太多软件，导致磁盘空间不足。</p>
<p>我个人笔记本电脑是 128g 的 ssd 和 1t 的机械硬盘，很标准的游戏本，我的分区方案是这样的：</p>
<table>
<thead>
<tr>
<th>磁盘</th>
<th>挂载点</th>
<th>大小</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dev/nvme0n1p1</td>
<td>/efi</td>
<td>512 MiB</td>
</tr>
<tr>
<td>/dev/nvme0n1p2</td>
<td>/</td>
<td>118.74GiB</td>
</tr>
<tr>
<td>/dev/sda1</td>
<td>/home/allen/Documents</td>
<td>100 GiB</td>
</tr>
<tr>
<td>/dev/sda2</td>
<td>/home/allen/Documents</td>
<td>100 GiB</td>
</tr>
<tr>
<td>/dev/sda4</td>
<td>/home/allen/Data</td>
<td>100 GiB</td>
</tr>
<tr>
<td>/dev/sda5</td>
<td>/home/allen/Workspaces</td>
<td>100 GiB</td>
</tr>
</tbody>
</table>
<p>我在安装的时候只格式化 <code>ssd</code> ，机械硬盘的相关挂载是在安装完成之后搞得，修改 <code>/etc/fstab</code> 就可以了。这样有个好处就是，我喜欢尝试各种发行版在实体机上，主要的文件都保存在机械硬盘上，这样只要我不碰机械硬盘，我的数据肯定不会出问题。其实一开始，我还会把 <code>/home</code> 挂载在机械硬盘上，这样我连一些系统设置都不用改，每次装系统之后只要安装需要的软件就行了。但是，后来我发现， <code>/home</code> 挂载在机械硬盘上会导致一些用户配置加载的有点慢，后来就不这样做了。如果你是一个比较清楚自己对于分区需求的用户，我推荐你在 <code>ssd</code> 上再分一个 <code>/home</code> 目录。</p>
<!-- raw HTML omitted -->
<ul>
<li>
<p>bios</p>
<p>这里我们使用 <code>fdisk</code> 这个工具分区，你也可以选择使用 <code>parted</code> 或者 <code>cfdisk</code> 进行安装。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">fdisk /dev/nvme0n1
</code></pre></td></tr></table>
</div>
</div><p>输入上面的指令之后，我们就进入了这个工具。如果你要安装多系统在同一个硬盘上，确保你留好了空间，然后仔细按照下面指示操作，不然，你很可能抹掉你的其它系统。</p>
<ul>
<li>如果你要全盘重新安装系统，输入 <code>o</code> ，创建一个全新的 <code>mbr</code> 分区表。如果你已经有系统在这个硬盘上，请跳过这里看下一个操作。</li>
<li>输入 <code>n</code> 创建一个新的分区，然后它会让你选择开始扇区位置，直接回车就好，然后让你输入扇区结束位置，输入 <code>+512M</code> 创建一个 <code>boot</code> 分区。</li>
<li>执行完，可以输入 <code>p</code> 来查看已经创建的分区</li>
<li>再次输入 <code>n</code> 来创建根目录分区，开始扇区位置和结束扇区位置都默认，直接回车。</li>
<li>最后，输入 <code>w</code> 来确认生效。</li>
</ul>
</li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>uefi</p>
<p>这里我们依然使用 <code>fdisk</code> 这个工具分区，你也可以选择使用 <code>parted</code> 或者 <code>cfdisk</code> 进行安装，大体内容和上面小节相同，只是磁盘的几个重要部分要求改一下。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">fdisk /dev/nvme0n1
</code></pre></td></tr></table>
</div>
</div><p>输入上面的指令之后，我们就进入了这个工具。如果你要安装多系统在同一个硬盘上，确保你留好了空间，然后仔细按照下面指示操作，不然，你很可能抹掉你的其它系统。</p>
<ul>
<li>如果你要全盘重新安装系统，输入 <code>g</code> ，创建一个全新的 <code>gpt</code> 分区表。如果你已经有系统在这个硬盘上，请跳过这里看下一个操作。</li>
<li>输入 <code>n</code> 创建一个新的分区，然后它会让你选择开始扇区位置，直接回车就好，然后让你输入扇区结束位置，输入 <code>+512M</code> 创建一个 <code>efi</code> 分区。</li>
<li>输入 <code>t</code> 选择修改分区类型，再输入 <code>ef</code> 来创建 <code>efi</code> 分区。</li>
<li>执行完，可以输入 <code>p</code> 来查看已经创建的分区</li>
<li>再次输入 <code>n</code> 创建根目录分区，开始扇区位置和结束扇区位置都默认，直接回车。</li>
<li>最后，输入 <code>w</code> 来确认生效。</li>
</ul>
</li>
</ul>
<h3 id="挂载分区">挂载分区</h3>
<h4 id="bios">bios</h4>
<p>先对硬盘进行格式化操作</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">mkfs.ext2 /dev/nvme0n1p1
mkfs.ext4 /dev/nvme0n1p2
</code></pre></td></tr></table>
</div>
</div><p>接下来开始使用挂载命令 <code>mount</code> ：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">mount /dev/nvme0n1p2 /mnt
mkdir -p /mnt/boot
mount /dev/nvme0n1p1 /mnt/boot
</code></pre></td></tr></table>
</div>
</div><h4 id="uefi">uefi</h4>
<p>先对硬盘进行格式化操作</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">mkfs.fat -F32 /dev/nvme0n1p1
mkfs.ext4 /dev/nvme0n1p2
</code></pre></td></tr></table>
</div>
</div><p>接下来开始使用挂载命令 <code>mount</code> ：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">mount /dev/nvme0n1p2 /mnt
mkdir -p /mnt/efi
mount /dev/nvme0n1p1 /mnt/efi
</code></pre></td></tr></table>
</div>
</div><p>这里需要说明一点，有的教程会把 <code>efi</code> 分区挂载到 <code>//dev/boot/efi</code> ，这也是可以的，要注意在后面引导安装那里，也要做相应的修改才行。</p>
<h3 id="更改镜像">更改镜像</h3>
<p>每一个发行版都会有自己的包管理系统，有自己不太一样的打包方式，所以都会提供一个软件仓库，但是在国内使用国外的仓库就会很慢，所以不论是 archlinux，fedora 还是 ubuntu，安装之后的第一件事，就是换源。archlinux 官方提供了很多认证过的仓库在 <code>/etc/pacman.d/mirrorlist</code> 里，这里我们使用 <code>vim</code> 或者 <code>nano</code> 进行修改，找到 <code>China</code> ，然后删掉其他国家的源。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">vim /etc/pacman.d/mirrorlist
</code></pre></td></tr></table>
</div>
</div><p>在 <code>vim</code> 里，大家就按上下左右就行了，输入 <code>dd</code> 删除一行， 输入 <code>d9d</code> 删除 9 行。删除完成之后，输入 <code>:wq</code> 保存并退出。如果删错内容，就输入 <code>u</code> 撤销上一步操作。如果不小心按了 <code>a</code> ， <code>o</code> ， <code>v</code> 或者 <code>i</code> ，进入了其他模式，就按 <code>ESC</code> 。之后我会出一篇介绍 <code>vim</code> 编辑器的博客，详细介绍如何使用 vim。</p>
<h3 id="安装软件包及系统到硬盘">安装软件包及系统到硬盘</h3>
<p>输入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacstrap /mnt base linux linux-firmware
</code></pre></td></tr></table>
</div>
</div><p>命令后面也可以加上一些个人需要的软件，比如 =vim=。不过问题不大，进入新系统之后依旧可以进行安装。</p>
<h2 id="配置系统">配置系统</h2>
<p>其实到这里，我们的系统基本上已经差不多好了，我们需要修改一些文件使得系统可以正常启动，自动挂载磁盘以及本地化的一些操作。</p>
<h3 id="建立自动挂载">建立自动挂载</h3>
<p>建立自动挂载的目的是，让电脑知道哪里是你的系统磁盘，哪里是你的文件目录，哪里是你的引导磁盘。如果这一步操作没有进行，安装完成后，我们将不能启动到新系统。在这里输入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</code></pre></td></tr></table>
</div>
</div><h3 id="进入新系统">进入新系统</h3>
<p>输入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">arch-chroot /mnt
</code></pre></td></tr></table>
</div>
</div><p>这个时候就会发现，命令符号已经改变了，说明我们已经进入了新系统。通常，我们系统有任何问题，导致无法启动，我们都可以通过这样的方式，从 <code>livecd</code> 进入系统，来修改系统文件或者删除安装软件。</p>
<h3 id="修改时区及本地化">修改时区及本地化</h3>
<p>这里，我们修改本机的时区到 <code>shanghai</code> ，然后同步一下，使之生效。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
hwclock --systohc
</code></pre></td></tr></table>
</div>
</div><p>有一点，我需要给新用户说一下，在任何命令行里，尝试使用 <code>TAB</code> 键来进行联想操作，比如我上面找 <code>Shanghai</code> 的时候，我可以输入一个 <code>ln -sf /usr/share/zone</code> 然后通过 <code>TAB</code> 联想进行补全。这样有一个好处，在最后输入完命令之后，我可以确定我输入的命令或者目录地址是正确的，并且可以简化我们输入的操作，大家可以多尝试尝试。</p>
<p>接下来，使用 <code>vim</code> 修改本地化的语言：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S vim  <span class="c1"># 如果没有安装vim的话</span>
vim /etc/locale.gen
</code></pre></td></tr></table>
</div>
</div><p>找到 <code>en_US.UTF-8 UTF-8</code> 和 <code>zh_CN.UTF-8 UTF-8</code> ，删掉前面的注释符 <code>#</code> ，用上下左右控制光标，把光标放在 <code>#</code> 号上，输入 <code>d</code> ，再按一下 <code>方向键右键</code> 。然后输入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">locale-gen
<span class="nb">echo</span> <span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8 &gt; /etc/locale.conf
</code></pre></td></tr></table>
</div>
</div><h3 id="设置主机名称">设置主机名称</h3>
<p>主机名就是你电脑的名字，你可以给电脑起一个比较有意思的名字，比如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">echo</span> laptop &gt; /etc/hostname
</code></pre></td></tr></table>
</div>
</div><p>这里的 <code>laptop</code> 就是我起得主机名，大家可以随意修改。并且修改网络内的主机名称：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">vim /etc/hosts
</code></pre></td></tr></table>
</div>
</div><p>修改成以下样子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">127.0.0.1	localhost
::1		localhost
127.0.1.1	laptop.localdomain	laptop
</code></pre></td></tr></table>
</div>
</div><h3 id="设置-root-密码">设置 root 密码</h3>
<p>权限在 <code>linux</code> 中是一个很重要的东西，在修改一下文件或者安装软件的时候，涉及到安全和稳定性的时候，通常会让你输入 用户密码甚至是 <code>root</code> 密码。大家可以把 <code>root</code> 理解为 <code>windows</code> 系统的 <code>管理员</code> ，我们之后还要创建一个我们使用的用户，如果一直使用 <code>root</code> ，可能会在不知情地情况下，损害我们的系统和个人安全。在这里，设置一个不会忘记的密码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">passwd
</code></pre></td></tr></table>
</div>
</div><p>输入的时候，它不会显示任何东西，输入完就按回车。</p>
<h3 id="安装引导">安装引导</h3>
<p>一般来说，大家安装的都是 <code>GRUB</code> 引导程序，因为它支持丰富并且简单易用。首先，安装必要的软件。 <code>os-pronber</code> 可以检测到其他 linux 系统， <code>ntfs-3g</code> 可以检测到 windows 系统。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S grub os-prober ntfs-3g
</code></pre></td></tr></table>
</div>
</div><h4 id="bios">bios</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">grub-install --target<span class="o">=</span>i386-pc /dev/nvme0n1p1
grub-mkconfig -o /boot/grub/grub.cfg
</code></pre></td></tr></table>
</div>
</div><h4 id="uefi">uefi</h4>
<p>如果你挂载的启动目录是 <code>/boot/efi</code> ，这里的 <code>efi</code> 就修改成 <code>/boot/efi</code> 。最后面的 <code>GRUB</code> ，你可以修改成你喜欢的名字。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S efibootmgr
grub-install --target<span class="o">=</span>x86_64-efi --efi-directory<span class="o">=</span>efi --bootloader-id<span class="o">=</span>GRUB
grub-mkconfig -o /boot/grub/grub.cfg
</code></pre></td></tr></table>
</div>
</div><h3 id="安装一些必要的网络包">安装一些必要的网络包</h3>
<p>不然重新启动电脑很难连上网。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S iw wpa_supplicant dialog net-tools networkmanager
</code></pre></td></tr></table>
</div>
</div><h3 id="重启">重启</h3>
<p>基本的系统我们已经安装好了，这里我们可以退出准系统，然后重启。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">exit</span>
umount /mnt/efi
umount /mnt
reboot
</code></pre></td></tr></table>
</div>
</div><h2 id="安装之后的操作">安装之后的操作</h2>
<p>重启之后，输入 <code>root</code> 用户名，密码是刚刚自己设置的密码。</p>
<h3 id="联网">联网</h3>
<p>跟前面联网那一节一样，如果连接不上：</p>
<ul>
<li>
<p>就用 <code>usb</code> 连接手机，并开启热点通过 <code>usb</code> 共享。然后输入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">  dhcpcd
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>wifi-menu 无法联网</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">  nmcli dev wifi list
  nmcli device wifi connect &#34;wifi名称&#34; password ”wifi密码“
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>用前面 <code>ping baidu.com</code> 命令 检查网络连接</p>
</li>
</ul>
<h3 id="设置用户及用户组">设置用户及用户组</h3>
<p>前面说了，一直使用 <code>root</code> 用户会对系统和个人安全造成危害，所以这里我们创建用户及设置密码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">useradd -m -G wheel username
passwd username
</code></pre></td></tr></table>
</div>
</div><p><code>username</code> 可以替换为你想要的名字。这个就是你以后要输入的用户名和密码。
设置用户的 <code>权限</code> ：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S sudo
ln -s /usr/bin/vim /usr/bin/vi
visudo
</code></pre></td></tr></table>
</div>
</div><p>这里第一行我们把默认使用的 <code>vi</code> 变换为 =vim=，虽然都差不多，但对于新手来说，容易出错。接下来，我们找到：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1">## User privilege specification</span>
<span class="c1">##</span>
root <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL

<span class="c1">## Uncomment to allow members of group wheel to execute any command</span>
%wheel <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL
</code></pre></td></tr></table>
</div>
</div><p>取消掉 <code>%wheel</code> 这一行的注释，修改成以上的样子。这样子之后，当我们使用普通用户进行安装软件等操作的时候，只要带上 <code>sudo</code> 就可以了，比如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1">## root 用户</span>
pacman -S somepackages

<span class="c1">## 普通用户</span>
sudo pacman -S somepackages
</code></pre></td></tr></table>
</div>
</div><p>然后会让你输入用户密码，按要求输入就行了。</p>
<h3 id="添加软件源">添加软件源</h3>
<ul>
<li>
<p>跟前面安装一样，修改软件源文件 <code>/etc/pacman.d/mirrorlist</code> 。</p>
</li>
<li>
<p>添加 <code>archlinuxcn</code> 源
<code>archlinux</code> 和其他发行版的一个区别就是，它提供了丰富的社区软件仓库 <code>AUR</code> ，但是，对于新手来说，使用 <code>AUR</code> 可能会对系统造成损伤。因为它需要下载源代码，然后进行编译，打包，最后进行安装。所以，社区为了大家方便，有人定期维护这些操作，并把打包好的软件放在 <code>archlinuxcn</code> 之类的仓库里，比如网易云音乐，qq，谷歌浏览器等。
在这里，使用 <code>vim</code> 打开 <code>/etc/pacman.conf</code> :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">  vim /etc/pacman.conf
</code></pre></td></tr></table>
</div>
</div><p>添加以下内容在最后：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">  <span class="o">[</span>archlinuxcn<span class="o">]</span>
  <span class="nv">Server</span> <span class="o">=</span> https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="nv">$arch</span>
</code></pre></td></tr></table>
</div>
</div><p>然后安装 <code>archlinuxcn-keyring</code> 获取验证信息：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">  pacman -Syu archlinuxcn-keyring
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="安装图形界面">安装图形界面</h3>
<p>如果不安装图形界面，你的系统就会是这种纯命令行的环境，如果不是高玩，请安装图形界面。</p>
<h4 id="显示服务">显示服务</h4>
<p>这里选择只有 <code>xorg</code> 或者 <code>wayland</code> ，具体区别，可以自行百度一下，这里推荐使用 =xorg=。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S xorg
</code></pre></td></tr></table>
</div>
</div><h4 id="显卡驱动">显卡驱动</h4>
<p>安装合适的显卡驱动，个人建议去<a href="https://wiki.archlinux.org/index.php/General%5Frecommendations#Graphical%5Fuser%5Finterface">官方wiki</a>，查看相应的显卡安装。我个人笔电是 <code>intel</code> 和 <code>nvidia</code> 双显卡，使用的<a href="https://github.com/Askannz/optimus-manager">optimus-manager</a>来切换显卡。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1">## intel 集显开源驱动</span>
pacman -S xf86-video-intel
<span class="c1">## nvidia 闭源驱动</span>
pacman -S nvidia
<span class="c1">## amd 开源驱动</span>
pacman -S xf86-video-amdgpu
</code></pre></td></tr></table>
</div>
</div><h4 id="网络服务">网络服务</h4>
<p>目前主流使用的网络管理服务都是 <code>networkmanager</code> 。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">systemctl <span class="nb">enable</span> NetworkManager
</code></pre></td></tr></table>
</div>
</div><h4 id="桌面环境">桌面环境</h4>
<p>桌面环境有很多种比如 <code>gnome</code> ， <code>kde</code> ， <code>dde</code> ， <code>xfce4</code> 等，甚至还有一些平铺桌面环境 <code>i3</code> , <code>openbox</code> ， <code>awesome</code> 等等。在这里，我只会介绍基础的几种桌面环境安装。我个人目前使用的是 <code>KDE plasma</code> ，如果大家有美化指南需求，可以在下方留言，我可以出一篇美化教程。</p>
<!-- raw HTML omitted -->
<ul>
<li>
<p>gnome</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S gnome gnome-extra
systemctl <span class="nb">enable</span> gdm
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>kde plasma</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S plasma kde-applications
systemctl <span class="nb">enable</span> sddm
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>深度桌面环境</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S deepin deepin-extra lightdm
systemctl <span class="nb">enable</span> lightdm
<span class="c1">## 然后修改配置文件</span>
vim /etc/lightdm/lightdm.conf
</code></pre></td></tr></table>
</div>
</div><p>将下面这个地方修改为刚才安装的 <code>greeter</code> 名称，也可以直接使用 <code>deepin</code> 的主题。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>Seat:*<span class="o">]</span>
...
greeter-session<span class="o">=</span>lightdm-deepin-greeter
...
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>xfce</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter
systemctl <span class="nb">enable</span> lightdm
<span class="c1">## 然后修改配置文件</span>
vim /etc/lightdm/lightdm.conf
</code></pre></td></tr></table>
</div>
</div><p>将下面这个地方修改为刚才安装的 <code>greeter</code> 名称，也可以直接使用 <code>deepin</code> 的主题。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>Seat:*<span class="o">]</span>
...
greeter-session<span class="o">=</span>lightdm-gtk-greeter
...
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>重启电脑</p>
<p>重启电脑，使用个人用户登陆。接下来你就可以体验到非常友好的图形界面了，请尽情享受并大胆尝试。</p>
</li>
</ul>
<h4 id="软件推荐">软件推荐</h4>
<p>打开 <code>terminl</code> ，开始进行部分软件的安装。</p>
<!-- raw HTML omitted -->
<ul>
<li>
<p>开启 AUR</p>
<p>首先先按照前面开启 <code>archlinuxcn</code> 软件源，然后安装 <code>AUR</code> 工具。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">sudo pacman -S yay
yay -Syu
</code></pre></td></tr></table>
</div>
</div><p>使用方法和 <code>pacman</code> 几乎一致。</p>
</li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>办公</p>
<p>推荐使用 <code>WPS</code> 。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1">## 如果开启了archlinuxcn</span>
sudo pacman -S wps-office-cn wps-office-mui-zh-cn ttf-wps-fonts
<span class="c1">## 没有开启 archlinuxcn</span>
yay -S wps-office-cn wps-office-mui-zh-cn ttf-wps-fonts
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>安装中文字体和输入法</p>
<p>输入法可以选择 <code>ibus</code> 或者 <code>fcitx</code> ，根据个人喜好， 使用 <code>sogoupinyin</code> 需要下载 <code>fcitx</code> 。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">sudo pacman -S noto-fonts-cjk fcitx fcitx-im fcitx-sogoupinyin
</code></pre></td></tr></table>
</div>
</div><p>然后修改 <code>/etc/profile</code> :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">sudo vim /etc/profile
</code></pre></td></tr></table>
</div>
</div><p>添加下面内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">export</span> <span class="nv">XMODIFIERS</span><span class="o">=</span><span class="s2">&#34;@im=fcitx&#34;</span>
<span class="nb">export</span> <span class="nv">GTK_IM_MODULE</span><span class="o">=</span><span class="s2">&#34;fcitx&#34;</span>
<span class="nb">export</span> <span class="nv">QT_IM_MODULE</span><span class="o">=</span><span class="s2">&#34;fcitx&#34;</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>音乐</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1">## 如果开启了archlinuxcn</span>
sudo pacman -S netease-cloud-music
<span class="c1">## 没有开启 archlinuxcn</span>
yay -S netease-cloud-music
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="总结">总结</h2>
<p>这是我的第一篇博客，可能内容写的不够详细，或者太罗嗦，希望大家见谅。如果有不清楚的地方，或者出问题的地方，或者感兴趣的地方，请大家在下方留言，我会在之后的博客里进行讲解。我计划在后面先出一篇vim的使用教程再出一篇emacs的使用教程，敬请期待。如果我回复不及时，请发邮(<a href="mailto:zcl.neber@hotmail.com">zcl.neber@hotmail.com</a>)给我，感谢!</p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">不吃早餐</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
      2020-07-05
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://nobreakfast.github.io/tags/archlinux/">archlinux</a>
          <a href="https://nobreakfast.github.io/tags/linux/">linux</a>
          <a href="https://nobreakfast.github.io/tags/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/">系统安装</a>
          
        </div>

      
      <nav class="post-nav">
        
        
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "Nobreakfast/nobreakfast.github.io"
            issue-term="title"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:zcl.neber@hotmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/nobreakfast" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>


<a href="https://nobreakfast.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Nobreakfast
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
